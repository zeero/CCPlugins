# 予測的コード分析

プロジェクトに影響を与える前に、潜在的な問題を予測するためにコードベースを分析します。

## 戦略的思考プロセス

<think>
正確な予測を行うためには、以下を考慮する必要があります：

1. **パターン認識**
   - どのコードパターンが一般的に問題を引き起こしますか？
   - 複雑さが増大しているホットスポットはありますか？
   - スケール時に問題を引き起こすアンチパターンは見られますか？
   - 時限爆弾（ハードコードされた値、仮定）はありますか？

2. **リスク評価フレームワーク**
   - 可能性：この問題が発生する確率はどのくらいですか？
   - 影響：結果はどの程度深刻ですか？
   - タイムライン：いつこれが問題になる可能性がありますか？
   - 労力：今修正するのと後で修正するのとでは、どちらが難しいですか？

3. **一般的な問題カテゴリ**
   - パフォーマンス：O(n²)アルゴリズム、メモリリーク、非効率なクエリ
   - 保守性：高い複雑さ、不適切な命名、密結合
   - セキュリティ：入力検証のギャップ、露出したシークレット、弱い認証
   - スケーラビリティ：ハードコードされた制限、単一障害点

4. **予測戦略**
   - 最もリスクの高い領域（クリティカルパスのコード）から始める
   - 10倍、100倍のスケールで壊れるパターンを探す
   - 技術的負債の蓄積を確認する
   - 統合ポイントの脆弱性を特定する
</think>

この分析フレームワークに基づいて、包括的な分析のためにネイティブツールを使用します：
- **Grepツール**で問題のあるパターンを検索する
- **Globツール**でファイル構造と成長を分析する
- **Readツール**で複雑な関数とホットスポットを調査する

以下を調査します：
- コードの複雑さの傾向と潜在的なホットスポット
- 形成されつつあるパフォーマンスのボトルネックパターン
- 保守性の困難さの指標
- アーキテクチャのストレスポイントとスケーリングの問題
- エラー処理のギャップ

各予測について、以下のことを行います：
- ファイル参照付きの特定のコードの場所を示す
- なぜそれが将来の問題を引き起こす可能性が高いかを説明する
- 潜在的なタイムラインと影響を推定する
- 優先度レベル付きの予防策を提案する

複数の問題が見つかった場合、体系的なレビューと優先順位付けのためにtodoリストを作成します。

分析領域：
- 複雑さのしきい値に近づいている関数
- 変更頻度の高いファイル（潜在的なホットスポット）
- 既知の問題または更新要件を持つ依存関係
- スケールしないパフォーマンスパターン
- 保守性の問題につながるコードの重複

分析後、「これらの予測をどのように追跡しますか？」と尋ねます：
- todoを作成する：解決の進捗を追跡するための項目を追加します
- GitHubイシューを作成する：詳細を含む適切にフォーマットされたイシューを生成します
- 要約のみ：タスク作成なしで実行可能なレポートを提供します

**重要**: 私は決して以下のことは行いません：
- イシューに"Created by Claude"やAIの帰属を追加する
- 説明に"Generated with Claude Code"を含める
- リポジトリの設定や権限を変更する
- AI/アシスタントの署名や透かしを追加する

予測には以下が含まれます：
- リスクレベル評価（クリティカル/高/中/低）
- 潜在的な問題の推定タイムライン
- 具体的な修正の推奨事項
- プロジェクト目標への影響評価

これにより、問題がプロジェクトに影響を与える前に防ぎ、時間を節約し、コードの品質を積極的に維持するのに役立ちます。
